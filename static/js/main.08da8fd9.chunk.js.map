{"version":3,"sources":["ui/DataFetchUtils.js","ui/Utils.js","ui/ReadingPane.component.js","ui/books.js","ui/StudyGuide.component.js","ui/Menu.component.js","ui/Footer.component.js","ui/bibleIndex.js","ui/App.js","serviceWorker.js","index.js"],"names":["getBookChapterJson","bookId","chapter","fetchJson","encodeURI","getWordJson","wordId","path","a","fetch","res","json","data","isEmptyObject","obj","prop","hasOwnProperty","ReadingPane","state","verse","chapterData","propsUpdated","props","match","params","book","parseInt","then","setState","getBookData","handleReadingPaneClick","event","menuOpen","preventDefault","stopPropagation","closeMenu","renderSection","section","key","className","type","heading","contents","map","content","index","hasVerseLabel","verseNum","to","classNames","data-verse","selected","verseText","this","sections","onClickCapture","React","Component","books","StudyGuide","VERSION_NAMES","CCB","CNV","CUNP","CSBS","contentData","activeSection","showWordInfo","wordSequenceInOriginal","crossReferences","getVerseData","url","verseData","wordObj","verseObj","Object","entries","crDict","analytics","thisVerse","dict","cht","translations","crs","crossRefs","cr","verseKey","split","crVerseBook","crVerseChapter","crVerseVerse","crossRef","verseAbbr","short_name","verseTextEn","nasb","verseTextCh","words","word","assign","anchors","id","anchorWordId","wordMap","meaning","filter","undefined","keys","push","handleMenuSelection","link","target","classList","contains","sectionId","getAttribute","document","getElementById","menuHeight","offsetHeight","scrollTop","offsetTop","handleWordClick","persist","currentTarget","dataset","handleStudyPaneClick","renderWord","pos","occurences","meaningsCount","meanings","translits","verses","b","c","v","list","reference","dim","sermons","length","sermon","title","preacher","date","audio","controls","src","slides","href","rel","renderChapterData","verseObject","bookTitle","bibleIndex","sort","index_cht","dedupedWords","w","idx","toUpperCase","versions","version","version_id","text","style","float","margin","checked","onColor","onHandleColor","uncheckedIcon","checkedIcon","height","width","onChange","data-wordid","translit","lang","eng","punct_cht","hymns","hymn","description","youtube_id","frameBorder","hidden","Menu","selectedbookId","selectedChapter","handleDropdownButtonClick","console","log","openMenu","handleBookSelection","value","handleChapterSelection","history","selectedBookId","handleMenuPaneClick","classes","renderPrevChLink","prevBook","prevCh","chapters","renderNextChLink","nextBook","nextCh","menu","i","onClick","hide","bid","Footer","1","abbr","name","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","54","55","56","57","58","59","60","61","62","63","64","65","66","BibleApp","render","exact","Boolean","window","location","hostname","ReactDOM","navigator","serviceWorker","ready","registration","unregister","catch","error","message"],"mappings":"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","file":"static/js/main.08da8fd9.chunk.js","sourcesContent":["const GET_BIBLE_ENDPOINT = \"/biblebase/json/cunp\";\n\n// deployement\nconst GET_VERSE_ENDPOINT = \"/biblebase/json/verses\";\nconst GET_WORD_ENDPOINT = \"/biblebase/json/words\";\n\n// local test\n// const GET_VERSE_ENDPOINT = \"http://0.0.0.0:8080/http://biblebase.s3-website-us-east-1.amazonaws.com/json\";\n\n\nfunction getBibleIndex() {\n  return fetchLocalJsonData('./json/bibleIndex.json');\n}\n\nfunction getBookChapterJson(bookId, chapter) {\n  // return fetchLocalJsonData(`/json/b${bookId}.${chapter}.json`);\n    const url = encodeURI(`${GET_BIBLE_ENDPOINT}/${bookId}/${chapter}.json`);\n    return fetchJson(url);\n}\n\nfunction getVerseJson(bookId, chapter, verse) {\n  if (verse === 0) {\n    return fetchJson(encodeURI(`${GET_VERSE_ENDPOINT}/${bookId}/${chapter}.json`));\n    // return fetchLocalJsonData(`/json/${bookId}.${chapter}.json`);\n  } else {\n    return fetchJson(encodeURI(`${GET_VERSE_ENDPOINT}/${bookId}/${chapter}/${verse}.json`));\n    // return fetchLocalJsonData(`/json/${bookId}.${chapter}.${verse}.json`);\n  }\n}\n\nfunction getWordJson(wordId) {\n  return fetchJson(encodeURI(`${GET_WORD_ENDPOINT}/${wordId}.json`))\n}\n\nasync function fetchJson(path) {\n    const res = await fetch(path);\n    const data = await res.json();    \n    return data;\n}\n\nasync function fetchHtml(path) {\n  const res = await fetch(path);\n  const text = await res.text();\n  return text;\n}\n\nasync function fetchLocalJsonData(path) {\n    const res = await fetch(path, {mode: 'no-cors'});\n    const text = await res.text();   \n    return JSON.parse(text);\n}\n\nexport { getBibleIndex, getBookChapterJson,  getVerseJson, fetchJson, fetchLocalJsonData, getWordJson,\n  GET_BIBLE_ENDPOINT, GET_VERSE_ENDPOINT };","function isEmptyObject(obj) {\n  for (let prop in obj) {\n    if (obj.hasOwnProperty(prop))\n      return false;\n  }\n  return true;\n}\n\nexport { isEmptyObject };","import React from \"react\";\nimport './ReadingPane.css';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { getBookChapterJson } from './DataFetchUtils';\nimport { Link } from 'react-router-dom';\nimport { isEmptyObject } from './Utils';\n\nclass ReadingPane extends React.Component {\n\n  static propTypes = {\n    bibleIndex: PropTypes.object.isRequired,\n    menuOpen: PropTypes.bool.isRequired,\n    closeMenu: PropTypes.func.isRequired\n  }\n\n  state = {\n    bookId: 0,\n    chapter: 0, \n    verse: 0,\n    chapterData: {}\n  }\n\n  componentDidMount() {\n    this.propsUpdated(this.props);\n  }\n\n  /* \n   * When props changes (when routing has changed), we need to catch is and update the state\n   * so that it will cause updates to relevent elements in the UI. If we skip this part, \n   * the whole componenet is re-rendered when routing changes\n   */\n  componentWillReceiveProps(props) {\n    this.propsUpdated(props);\n  }\n\n  // update current state when props change\n  propsUpdated = (props) => {\n    const bookId = props.match.params.book? parseInt(props.match.params.book) : 1;\n    const chapter = props.match.params.chapter? parseInt(props.match.params.chapter) : 1;\n    const verse = props.match.params.verse? parseInt(props.match.params.verse) : 0;\n    if (bookId !== this.state.bookId || chapter !== this.state.chapterData || verse !== this.state.verse) {\n      getBookChapterJson(bookId, chapter).then(data => {\n        this.setState({\n          chapterData: data,\n          bookId: bookId,\n          chapter: chapter,\n          verse: verse\n        });\n      });\n    }\n  }\n\n  getBookData = (book, chapter) => {\n    getBookChapterJson(book, chapter).then(data => {\n      this.setState({\n        chapterData: data\n      });\n    });\n  }\n\n  handleReadingPaneClick = (event) => {\n    // if menu is open and clicked outside selection, close menu\n    if (this.props.menuOpen) {\n      event.preventDefault();\n      event.stopPropagation();\n      this.props.closeMenu();\n    }\n  }\n\n  renderSection = (section, key) => {\n    const bookId = this.state.bookId;\n    const chapter = this.state.chapter;\n    const verse = this.state.verse;\n\n    if (\"heading\" in section) { // heading section\n      return (\n        <div className={`heading ${section.type}`} key={key}>{section.heading}</div>\n      )\n    } else { // content section\n      return (\n        <div className={`section ${section.type}`} key={key}>\n          {section.contents.map( (content, index) => (\n            <span className=\"section-content\" key={index}>\n              { \"hasVerseLabel\" in content &&  content.hasVerseLabel? <span className=\"label\">{content.verseNum}</span> : \"\"}\n              <Link to={content.verseNum === verse? `/biblebase/${bookId}/${chapter}` : `/biblebase/${bookId}/${chapter}/${content.verseNum}`}\n                    className={classNames({\"disable-link\": this.props.menuOpen})} >\n                <span data-verse={content.verseNum} className={classNames(\"verse\", {selected: content.verseNum === verse})} >\n                  {content.verseText}\n                </span>\n              </Link>\n            </span>\n            \n          ))}\n        </div>\n      )\n    }\n  }\n\n  render() {\n    const bookId = this.state.bookId;\n    const chapter = this.state.chapter;\n    // const verse = this.state.verse;\n    const chapterData = this.state.chapterData;\n\n    if (bookId === 0)\n      return <div></div>\n\n    // data has not been loaded\n    if (isEmptyObject(chapterData) || \n        chapterData.book !== bookId || chapterData.chapter !== chapter) {\n      this.getBookData(bookId, chapter);\n      return <div></div>\n    }\n\n    const sections = chapterData['sections'];\n    \n    return (\n      <div className=\"reading-pane\" onClickCapture={this.handleReadingPaneClick}>\n          <div className=\"chapter\">\n            {sections.map( (section, index) => this.renderSection(section, index))}\n          </div>\n      </div>\n    );\n  }\n}\n\nexport default ReadingPane;\n","const books = {\n  \"gen\": {\n    \"index\": 1,\n    \"testament\": \"Old\",\n    \"full_name\": {\n      \"en\": \"Genesis\",\n      \"chs\": \"创世记\",\n      \"cht\": \"創世記\",\n      \"alias_chs\": \"创世纪\",\n      \"alias_cht\": \"創世紀\",\n      \"pinyin\": \"csj\"\n    },\n    \"short_name\": {\n      \"pinyin\": \"chuang\",\n      \"en\": \"Gen\",\n      \"chs\": \"创\",\n      \"cht\": \"創\"\n    }\n  },\n  \"exo\": {\n    \"index\": 2,\n    \"testament\": \"Old\",\n    \"full_name\": {\n      \"en\": \"Exodus\",\n      \"chs\": \"出埃及记\",\n      \"cht\": \"出埃及記\",\n      \"pinyin\": \"cajj\"\n    },\n    \"short_name\": {\n      \"pinyin\": \"chu\",\n      \"en\": \"Exo\",\n      \"chs\": \"出\",\n      \"cht\": \"出\"\n    }\n  },\n  \"lev\": {\n    \"index\": 3,\n    \"testament\": \"Old\",\n    \"full_name\": {\n      \"en\": \"Leviticus\",\n      \"chs\": \"利未记\",\n      \"cht\": \"利未記\",\n      \"pinyin\": \"lwj\"\n    },\n    \"short_name\": {\n      \"pinyin\": \"li\",\n      \"en\": \"Lev\",\n      \"chs\": \"利\",\n      \"cht\": \"利\"\n    }\n  },\n  \"num\": {\n    \"index\": 4,\n    \"testament\": \"Old\",\n    \"full_name\": {\n      \"en\": \"Numbers\",\n      \"chs\": \"民数记\",\n      \"cht\": \"民數記\",\n      \"pinyin\": \"msj\"\n    },\n    \"short_name\": {\n      \"pinyin\": \"min\",\n      \"en\": \"Num\",\n      \"chs\": \"民\",\n      \"cht\": \"民\"\n    }\n  },\n  \"deu\": {\n    \"index\": 5,\n    \"testament\": \"Old\",\n    \"full_name\": {\n      \"en\": \"Deuteronomy\",\n      \"chs\": \"申命记\",\n      \"cht\": \"申命記\",\n      \"pinyin\": \"smj\"\n    },\n    \"short_name\": {\n      \"pinyin\": \"shen\",\n      \"en\": \"Deut\",\n      \"chs\": \"申\",\n      \"cht\": \"申\"\n    }\n  },\n  \"jos\": {\n    \"index\": 6,\n    \"testament\": \"Old\",\n    \"full_name\": {\n      \"en\": \"Joshua\",\n      \"chs\": \"约书亚记\",\n      \"cht\": \"約書亞記\",\n      \"pinyin\": \"ysyj\"\n    },\n    \"short_name\": {\n      \"pinyin\": \"shu\",\n      \"en\": \"Josh\",\n      \"chs\": \"书\",\n      \"cht\": \"書\"\n    }\n  },\n  \"jdg\": {\n    \"index\": 7,\n    \"testament\": \"Old\",\n    \"full_name\": {\n      \"en\": \"Judges\",\n      \"chs\": \"士师记\",\n      \"cht\": \"士師記\",\n      \"pinyin\": \"ssj\"\n    },\n    \"short_name\": {\n      \"pinyin\": \"shishi\",\n      \"en\": \"Judg\",\n      \"chs\": \"士\",\n      \"cht\": \"士\"\n    }\n  },\n  \"rut\": {\n    \"index\": 8,\n    \"testament\": \"Old\",\n    \"full_name\": {\n      \"en\": \"Ruth\",\n      \"chs\": \"路得记\",\n      \"cht\": \"路得記\",\n      \"pinyin\": \"ldj\"\n    },\n    \"short_name\": {\n      \"pinyin\": \"de\",\n      \"en\": \"Ruth\",\n      \"chs\": \"得\",\n      \"cht\": \"得\"\n    }\n  },\n  \"1sa\": {\n    \"index\": 9,\n    \"testament\": \"Old\",\n    \"full_name\": {\n      \"en\": \"1 Samuel\",\n      \"chs\": \"撒母耳记上\",\n      \"cht\": \"撒母耳記上\",\n      \"pinyin\": \"smejs\"\n    },\n    \"short_name\": {\n      \"pinyin\": \"sashang\",\n      \"en\": \"1Sam\",\n      \"chs\": \"撒上\",\n      \"cht\": \"撒上\"\n    }\n  },\n  \"2sa\": {\n    \"index\": 10,\n    \"testament\": \"Old\",\n    \"full_name\": {\n      \"en\": \"2 Samuel\",\n      \"chs\": \"撒母耳记下\",\n      \"cht\": \"撒母耳記下\",\n      \"pinyin\": \"smejx\"\n    },\n    \"short_name\": {\n      \"pinyin\": \"saxia\",\n      \"en\": \"2Sam\",\n      \"chs\": \"撒下\",\n      \"cht\": \"撒下\"\n    }\n  },\n  \"1ki\": {\n    \"index\": 11,\n    \"testament\": \"Old\",\n    \"full_name\": {\n      \"en\": \"1 Kings\",\n      \"chs\": \"列王纪上\",\n      \"cht\": \"列王紀上\",\n      \"alias_chs\": \"列王记上\",\n      \"alias_cht\": \"列王記上\",\n      \"pinyin\": \"lwjs\"\n    },\n    \"short_name\": {\n      \"pinyin\": \"wangshang\",\n      \"en\": \"1King\",\n      \"chs\": \"王上\",\n      \"cht\": \"王上\"\n    }\n  },\n  \"2ki\": {\n    \"index\": 12,\n    \"testament\": \"Old\",\n    \"full_name\": {\n      \"en\": \"2 Kings\",\n      \"chs\": \"列王纪下\",\n      \"cht\": \"列王紀下\",\n      \"alias_chs\": \"列王记下\",\n      \"alias_cht\": \"列王記下\",\n      \"pinyin\": \"lwjx\"\n    },\n    \"short_name\": {\n      \"pinyin\": \"wangxia\",\n      \"en\": \"2King\",\n      \"chs\": \"王下\",\n      \"cht\": \"王下\"\n    }\n  },\n  \"1ch\": {\n    \"index\": 13,\n    \"testament\": \"Old\",\n    \"full_name\": {\n      \"en\": \"1 Chronicles\",\n      \"chs\": \"历代志上\",\n      \"cht\": \"歷代志上\",\n      \"pinyin\": \"ldzs\"\n    },\n    \"short_name\": {\n      \"pinyin\": \"daishang\",\n      \"en\": \"1Chro\",\n      \"chs\": \"代上\",\n      \"cht\": \"代上\"\n    }\n  },\n  \"2ch\": {\n    \"index\": 14,\n    \"testament\": \"Old\",\n    \"full_name\": {\n      \"en\": \"2 Chronicles\",\n      \"chs\": \"历代志下\",\n      \"cht\": \"歷代志下\",\n      \"pinyin\": \"ldzx\"\n    },\n    \"short_name\": {\n      \"pinyin\": \"daixia\",\n      \"en\": \"2Chro\",\n      \"chs\": \"代下\",\n      \"cht\": \"代下\"\n    }\n  },\n  \"ezr\": {\n    \"index\": 15,\n    \"testament\": \"Old\",\n    \"full_name\": {\n      \"en\": \"Ezra\",\n      \"chs\": \"以斯拉记\",\n      \"cht\": \"以斯拉記\",\n      \"pinyin\": \"yslj\"\n    },\n    \"short_name\": {\n      \"pinyin\": \"la\",\n      \"en\": \"Ezra\",\n      \"chs\": \"拉\",\n      \"cht\": \"拉\"\n    }\n  },\n  \"neh\": {\n    \"index\": 16,\n    \"testament\": \"Old\",\n    \"full_name\": {\n      \"en\": \"Nehemiah\",\n      \"chs\": \"尼希米记\",\n      \"cht\": \"尼希米記\",\n      \"pinyin\": \"nxmj\"\n    },\n    \"short_name\": {\n      \"pinyin\": \"ni\",\n      \"en\": \"Neh\",\n      \"chs\": \"尼\",\n      \"cht\": \"尼\"\n    }\n  },\n  \"est\": {\n    \"index\": 17,\n    \"testament\": \"Old\",\n    \"full_name\": {\n      \"en\": \"Esther\",\n      \"chs\": \"以斯帖记\",\n      \"cht\": \"以斯帖記\",\n      \"pinyin\": \"ystj\"\n    },\n    \"short_name\": {\n      \"pinyin\": \"si\",\n      \"en\": \"Esth\",\n      \"chs\": \"斯\",\n      \"cht\": \"斯\"\n    }\n  },\n  \"job\": {\n    \"index\": 18,\n    \"testament\": \"Old\",\n    \"full_name\": {\n      \"en\": \"Job\",\n      \"chs\": \"约伯记\",\n      \"cht\": \"約伯記\",\n      \"pinyin\": \"ybj\"\n    },\n    \"short_name\": {\n      \"pinyin\": \"bo\",\n      \"en\": \"Job\",\n      \"chs\": \"伯\",\n      \"cht\": \"伯\"\n    }\n  },\n  \"psa\": {\n    \"index\": 19,\n    \"testament\": \"Old\",\n    \"full_name\": {\n      \"en\": \"Psalms\",\n      \"chs\": \"诗篇\",\n      \"cht\": \"詩篇\",\n      \"pinyin\": \"sp\"\n    },\n    \"short_name\": {\n      \"pinyin\": \"shi\",\n      \"en\": \"Psa\",\n      \"chs\": \"诗\",\n      \"cht\": \"詩\"\n    }\n  },\n  \"pro\": {\n    \"index\": 20,\n    \"testament\": \"Old\",\n    \"full_name\": {\n      \"en\": \"Proverbs\",\n      \"chs\": \"箴言\",\n      \"cht\": \"箴言\",\n      \"pinyin\": \"zy\"\n    },\n    \"short_name\": {\n      \"pinyin\": \"zhen\",\n      \"en\": \"Prov\",\n      \"chs\": \"箴\",\n      \"cht\": \"箴\"\n    }\n  },\n  \"ecc\": {\n    \"index\": 21,\n    \"testament\": \"Old\",\n    \"full_name\": {\n      \"en\": \"Ecclesiastes\",\n      \"chs\": \"传道书\",\n      \"cht\": \"傳道書\",\n      \"pinyin\": \"cds\"\n    },\n    \"short_name\": {\n      \"pinyin\": \"chuan\",\n      \"en\": \"Eccl\",\n      \"chs\": \"传\",\n      \"cht\": \"傳\"\n    }\n  },\n  \"sng\": {\n    \"index\": 22,\n    \"testament\": \"Old\",\n    \"full_name\": {\n      \"en\": \"Song of Songs\",\n      \"chs\": \"雅歌\",\n      \"cht\": \"雅歌\",\n      \"alias_en\": \"Songs\",\n      \"alias_chs\": \"雅歌书\",\n      \"alias_cht\": \"雅歌書\",\n      \"pinyin\": \"yg\"\n    },\n    \"short_name\": {\n      \"pinyin\": \"ge\",\n      \"en\": \"Song\",\n      \"chs\": \"歌\",\n      \"cht\": \"歌\"\n    }\n  },\n  \"isa\": {\n    \"index\": 23,\n    \"testament\": \"Old\",\n    \"full_name\": {\n      \"en\": \"Isaiah\",\n      \"chs\": \"以赛亚书\",\n      \"cht\": \"以賽亞書\",\n      \"pinyin\": \"ysys\"\n    },\n    \"short_name\": {\n      \"pinyin\": \"sai\",\n      \"en\": \"Isa\",\n      \"chs\": \"赛\",\n      \"cht\": \"賽\"\n    }\n  },\n  \"jer\": {\n    \"index\": 24,\n    \"testament\": \"Old\",\n    \"full_name\": {\n      \"en\": \"Jeremiah\",\n      \"chs\": \"耶利米书\",\n      \"cht\": \"耶利米書\",\n      \"pinyin\": \"ylms\"\n    },\n    \"short_name\": {\n      \"pinyin\": \"ye\",\n      \"en\": \"Jer\",\n      \"chs\": \"耶\",\n      \"cht\": \"耶\"\n    }\n  },\n  \"lam\": {\n    \"index\": 25,\n    \"testament\": \"Old\",\n    \"full_name\": {\n      \"en\": \"Lamentations\",\n      \"chs\": \"耶利米哀歌\",\n      \"cht\": \"耶利米哀歌\",\n      \"pinyin\": \"ylmag\"\n    },\n    \"short_name\": {\n      \"pinyin\": \"ai\",\n      \"en\": \"Lam\",\n      \"chs\": \"哀\",\n      \"cht\": \"哀\"\n    }\n  },\n  \"ezk\": {\n    \"index\": 26,\n    \"testament\": \"Old\",\n    \"full_name\": {\n      \"en\": \"Ezekiel\",\n      \"chs\": \"以西结书\",\n      \"cht\": \"以西結書\",\n      \"pinyin\": \"yxjs\"\n    },\n    \"short_name\": {\n      \"pinyin\": \"jie\",\n      \"en\": \"Ezek\",\n      \"chs\": \"结\",\n      \"cht\": \"結\"\n    }\n  },\n  \"dan\": {\n    \"index\": 27,\n    \"testament\": \"Old\",\n    \"full_name\": {\n      \"en\": \"Daniel\",\n      \"chs\": \"但以理书\",\n      \"cht\": \"但以理書\",\n      \"pinyin\": \"dyls\"\n    },\n    \"short_name\": {\n      \"pinyin\": \"dan\",\n      \"en\": \"Dan\",\n      \"chs\": \"但\",\n      \"cht\": \"但\"\n    }\n  },\n  \"hos\": {\n    \"index\": 28,\n    \"testament\": \"Old\",\n    \"full_name\": {\n      \"en\": \"Hosea\",\n      \"chs\": \"何西阿书\",\n      \"cht\": \"何西阿書\",\n      \"pinyin\": \"hxas\"\n    },\n    \"short_name\": {\n      \"pinyin\": \"he\",\n      \"en\": \"Hosea\",\n      \"chs\": \"何\",\n      \"cht\": \"何\"\n    }\n  },\n  \"jol\": {\n    \"index\": 29,\n    \"testament\": \"Old\",\n    \"full_name\": {\n      \"en\": \"Joel\",\n      \"chs\": \"约珥书\",\n      \"cht\": \"約珥書\",\n      \"pinyin\": \"yes\"\n    },\n    \"short_name\": {\n      \"pinyin\": \"er\",\n      \"en\": \"Joel\",\n      \"chs\": \"珥\",\n      \"cht\": \"珥\"\n    }\n  },\n  \"amo\": {\n    \"index\": 30,\n    \"testament\": \"Old\",\n    \"full_name\": {\n      \"en\": \"Amos\",\n      \"chs\": \"阿摩司书\",\n      \"cht\": \"阿摩司書\",\n      \"pinyin\": \"amss\"\n    },\n    \"short_name\": {\n      \"pinyin\": \"mo\",\n      \"en\": \"Amos\",\n      \"chs\": \"摩\",\n      \"cht\": \"摩\"\n    }\n  },\n  \"oba\": {\n    \"index\": 31,\n    \"testament\": \"Old\",\n    \"full_name\": {\n      \"en\": \"Obadiah\",\n      \"chs\": \"俄巴底亚书\",\n      \"cht\": \"俄巴底亞書\",\n      \"pinyin\": \"ebdys\"\n    },\n    \"short_name\": {\n      \"pinyin\": \"e\",\n      \"en\": \"Obad\",\n      \"chs\": \"俄\",\n      \"cht\": \"俄\"\n    }\n  },\n  \"jon\": {\n    \"index\": 32,\n    \"testament\": \"Old\",\n    \"full_name\": {\n      \"en\": \"Jonah\",\n      \"chs\": \"约拿书\",\n      \"cht\": \"約拿書\",\n      \"pinyin\": \"yns\"\n    },\n    \"short_name\": {\n      \"pinyin\": \"na\",\n      \"en\": \"Jonah\",\n      \"chs\": \"拿\",\n      \"cht\": \"拿\"\n    }\n  },\n  \"mic\": {\n    \"index\": 33,\n    \"testament\": \"Old\",\n    \"full_name\": {\n      \"en\": \"Micah\",\n      \"chs\": \"弥迦书\",\n      \"cht\": \"彌迦書\",\n      \"pinyin\": \"mjs\"\n    },\n    \"short_name\": {\n      \"pinyin\": \"mi\",\n      \"en\": \"Micah\",\n      \"chs\": \"弥\",\n      \"cht\": \"彌\"\n    }\n  },\n  \"nam\": {\n    \"index\": 34,\n    \"testament\": \"Old\",\n    \"full_name\": {\n      \"en\": \"Nahum\",\n      \"chs\": \"那鸿书\",\n      \"cht\": \"那鴻書\",\n      \"pinyin\": \"nhs\"\n    },\n    \"short_name\": {\n      \"pinyin\": \"hong\",\n      \"en\": \"Nah\",\n      \"chs\": \"鸿\",\n      \"cht\": \"鴻\"\n    }\n  },\n  \"hab\": {\n    \"index\": 35,\n    \"testament\": \"Old\",\n    \"full_name\": {\n      \"en\": \"Habakkuk\",\n      \"chs\": \"哈巴谷书\",\n      \"cht\": \"哈巴谷書\",\n      \"pinyin\": \"hbgs\"\n    },\n    \"short_name\": {\n      \"pinyin\": \"ha\",\n      \"en\": \"Habak\",\n      \"chs\": \"哈\",\n      \"cht\": \"哈\"\n    }\n  },\n  \"zep\": {\n    \"index\": 36,\n    \"testament\": \"Old\",\n    \"full_name\": {\n      \"en\": \"Zephaniah\",\n      \"chs\": \"西番雅书\",\n      \"cht\": \"西番雅書\",\n      \"pinyin\": \"xfys\"\n    },\n    \"short_name\": {\n      \"pinyin\": \"fan\",\n      \"en\": \"Zeph\",\n      \"chs\": \"番\",\n      \"cht\": \"番\"\n    }\n  },\n  \"hag\": {\n    \"index\": 37,\n    \"testament\": \"Old\",\n    \"full_name\": {\n      \"en\": \"Haggai\",\n      \"chs\": \"哈该书\",\n      \"cht\": \"哈該書\",\n      \"pinyin\": \"hgs\"\n    },\n    \"short_name\": {\n      \"pinyin\": \"gai\",\n      \"en\": \"Hagg\",\n      \"chs\": \"该\",\n      \"cht\": \"該\"\n    }\n  },\n  \"zec\": {\n    \"index\": 38,\n    \"testament\": \"Old\",\n    \"full_name\": {\n      \"en\": \"Zechariah\",\n      \"chs\": \"撒迦利亚书\",\n      \"cht\": \"撒迦利亞書\",\n      \"pinyin\": \"sjlys\"\n    },\n    \"short_name\": {\n      \"pinyin\": \"sa\",\n      \"en\": \"Zech\",\n      \"chs\": \"亚\",\n      \"cht\": \"亞\"\n    }\n  },\n  \"mal\": {\n    \"index\": 39,\n    \"testament\": \"Old\",\n    \"full_name\": {\n      \"en\": \"Malachi\",\n      \"chs\": \"玛拉基书\",\n      \"cht\": \"瑪拉基書\",\n      \"alias_chs\": \"玛拉基书\",\n      \"alias_cht\": \"瑪拉基書\",\n      \"pinyin\": \"mljs\"\n    },\n    \"short_name\": {\n      \"pinyin\": \"ma\",\n      \"en\": \"Mal\",\n      \"chs\": \"玛\",\n      \"cht\": \"瑪\"\n    }\n  },\n  \"mat\": {\n    \"index\": 40,\n    \"testament\": \"New\",\n    \"full_name\": {\n      \"en\": \"Matthew\",\n      \"chs\": \"马太福音\",\n      \"cht\": \"馬太福音\",\n      \"alias_chs\": \"马太\",\n      \"alias_cht\": \"馬太\",\n      \"pinyin\": \"mtfy\"\n    },\n    \"short_name\": {\n      \"pinyin\": \"tai\",\n      \"en\": \"Matt\",\n      \"chs\": \"太\",\n      \"cht\": \"太\"\n    }\n  },\n  \"mrk\": {\n    \"index\": 41,\n    \"testament\": \"New\",\n    \"full_name\": {\n      \"en\": \"Mark\",\n      \"chs\": \"马可福音\",\n      \"cht\": \"馬可福音\",\n      \"alias_chs\": \"马可\",\n      \"alias_cht\": \"馬可\",\n      \"pinyin\": \"mkfy\"\n    },\n    \"short_name\": {\n      \"pinyin\": \"ke\",\n      \"en\": \"Mark\",\n      \"chs\": \"可\",\n      \"cht\": \"可\"\n    }\n  },\n  \"luk\": {\n    \"index\": 42,\n    \"testament\": \"New\",\n    \"full_name\": {\n      \"en\": \"Luke\",\n      \"chs\": \"路加福音\",\n      \"cht\": \"路加福音\",\n      \"alias_chs\": \"路加\",\n      \"alias_cht\": \"路加\",\n      \"pinyin\": \"ljfy\"\n    },\n    \"short_name\": {\n      \"pinyin\": \"lu\",\n      \"en\": \"Luke\",\n      \"chs\": \"路\",\n      \"cht\": \"路\",\n      \"alias_cht\": \"路\"\n    }\n  },\n  \"jhn\": {\n    \"index\": 43,\n    \"testament\": \"New\",\n    \"full_name\": {\n      \"en\": \"John\",\n      \"chs\": \"约翰福音\",\n      \"cht\": \"約翰福音\",\n      \"pinyin\": \"yhfy\"\n    },\n    \"short_name\": {\n      \"pinyin\": \"yue\",\n      \"en\": \"John\",\n      \"chs\": \"约\",\n      \"cht\": \"約\"\n    }\n  },\n  \"act\": {\n    \"index\": 44,\n    \"testament\": \"New\",\n    \"full_name\": {\n      \"en\": \"Acts\",\n      \"chs\": \"使徒行传\",\n      \"cht\": \"使徒行傳\",\n      \"pinyin\": \"stxz\"\n    },\n    \"short_name\": {\n      \"pinyin\": \"tu\",\n      \"en\": \"Acts\",\n      \"chs\": \"徒\",\n      \"cht\": \"徒\"\n    }\n  },\n  \"rom\": {\n    \"index\": 45,\n    \"testament\": \"New\",\n    \"full_name\": {\n      \"en\": \"Romans\",\n      \"chs\": \"罗马书\",\n      \"cht\": \"羅馬書\",\n      \"alias\": \"羅馬書\",\n      \"pinyin\": \"lms\"\n    },\n    \"short_name\": {\n      \"pinyin\": \"luo\",\n      \"en\": \"Rom\",\n      \"chs\": \"罗\",\n      \"cht\": \"羅\",\n      \"alias\": \"羅\"\n    }\n  },\n  \"1co\": {\n    \"index\": 46,\n    \"testament\": \"New\",\n    \"full_name\": {\n      \"en\": \"1 Corinthians\",\n      \"chs\": \"哥林多前书\",\n      \"cht\": \"哥林多前書\",\n      \"pinyin\": \"gldqs\"\n    },\n    \"short_name\": {\n      \"pinyin\": \"linqian\",\n      \"en\": \"1Cor\",\n      \"chs\": \"林前\",\n      \"cht\": \"林前\",\n      \"alias_chs\": \"哥前\"\n    }\n  },\n  \"2co\": {\n    \"index\": 47,\n    \"testament\": \"New\",\n    \"full_name\": {\n      \"en\": \"2 Corinthians\",\n      \"chs\": \"哥林多后书\",\n      \"cht\": \"哥林多後書\",\n      \"pinyin\": \"gldhs\"\n    },\n    \"short_name\": {\n      \"pinyin\": \"linhou\",\n      \"en\": \"2Cor\",\n      \"chs\": \"林后\",\n      \"cht\": \"林後\"\n    }\n  },\n  \"gal\": {\n    \"index\": 48,\n    \"testament\": \"New\",\n    \"full_name\": {\n      \"en\": \"Galatians\",\n      \"chs\": \"加拉太书\",\n      \"cht\": \"加拉太書\",\n      \"pinyin\": \"jlts\"\n    },\n    \"short_name\": {\n      \"pinyin\": \"jia\",\n      \"en\": \"Gal\",\n      \"chs\": \"加\",\n      \"cht\": \"加\"\n    }\n  },\n  \"eph\": {\n    \"index\": 49,\n    \"testament\": \"New\",\n    \"full_name\": {\n      \"en\": \"Ephesians\",\n      \"chs\": \"以弗所书\",\n      \"cht\": \"以弗所書\",\n      \"alias_chs\": \"以弗所\",\n      \"pinyin\": \"yfss\"\n    },\n    \"short_name\": {\n      \"pinyin\": \"fu\",\n      \"en\": \"Eph\",\n      \"chs\": \"弗\",\n      \"cht\": \"弗\"\n    }\n  },\n  \"php\": {\n    \"index\": 50,\n    \"testament\": \"New\",\n    \"full_name\": {\n      \"en\": \"Philippians\",\n      \"chs\": \"腓利比书\",\n      \"cht\": \"腓利比書\",\n      \"alias_cht\": \"腓立比書\",\n      \"alias_chs\": \"腓立比书\",\n      \"pinyin\": \"flbs\"\n    },\n    \"short_name\": {\n      \"pinyin\": \"fei\",\n      \"en\": \"Phil\",\n      \"chs\": \"腓\",\n      \"cht\": \"腓\",\n      \"alias_chs\": \"腓立比\"\n    }\n  },\n  \"col\": {\n    \"index\": 51,\n    \"testament\": \"New\",\n    \"full_name\": {\n      \"en\": \"Colossians\",\n      \"chs\": \"歌罗西书\",\n      \"cht\": \"歌羅西書\",\n      \"pinyin\": \"glxs\"\n    },\n    \"short_name\": {\n      \"pinyin\": \"xi\",\n      \"en\": \"Col\",\n      \"chs\": \"西\",\n      \"cht\": \"西\"\n    }\n  },\n  \"1th\": {\n    \"index\": 52,\n    \"testament\": \"New\",\n    \"full_name\": {\n      \"en\": \"1 Thessalonians\",\n      \"chs\": \"帖撒罗尼迦前书\",\n      \"cht\": \"帖撒羅尼迦前書\",\n      \"pinyin\": \"tslnjqs\"\n    },\n    \"short_name\": {\n      \"pinyin\": \"tieqian\",\n      \"en\": \"1Thes\",\n      \"chs\": \"帖前\",\n      \"cht\": \"帖前\"\n    }\n  },\n  \"2th\": {\n    \"index\": 53,\n    \"testament\": \"New\",\n    \"full_name\": {\n      \"en\": \"2 Thessalonians\",\n      \"chs\": \"帖撒罗尼迦后书\",\n      \"cht\": \"帖撒羅尼迦後書\",\n      \"pinyin\": \"tslnjhs\"\n    },\n    \"short_name\": {\n      \"pinyin\": \"tiehou\",\n      \"en\": \"2Thes\",\n      \"chs\": \"帖后\",\n      \"cht\": \"帖後\"\n    }\n  },\n  \"1ti\": {\n    \"index\": 54,\n    \"testament\": \"New\",\n    \"full_name\": {\n      \"en\": \"1 Timothy\",\n      \"chs\": \"提摩太前书\",\n      \"cht\": \"提摩太前書\",\n      \"pinyin\": \"tmtqs\"\n    },\n    \"short_name\": {\n      \"pinyin\": \"tiqian\",\n      \"en\": \"1Tim\",\n      \"chs\": \"提前\",\n      \"cht\": \"提前\"\n    }\n  },\n  \"2ti\": {\n    \"index\": 55,\n    \"testament\": \"New\",\n    \"full_name\": {\n      \"en\": \"2 Timothy\",\n      \"chs\": \"提摩太后书\",\n      \"cht\": \"提摩太後書\",\n      \"pinyin\": \"tmths\"\n    },\n    \"short_name\": {\n      \"pinyin\": \"tihou\",\n      \"en\": \"2Tim\",\n      \"chs\": \"提后\",\n      \"cht\": \"提後\"\n    }\n  },\n  \"tit\": {\n    \"index\": 56,\n    \"testament\": \"New\",\n    \"full_name\": {\n      \"en\": \"Titus\",\n      \"chs\": \"提多书\",\n      \"cht\": \"提多書\",\n      \"pinyin\": \"tds\"\n    },\n    \"short_name\": {\n      \"pinyin\": \"duo\",\n      \"en\": \"Titus\",\n      \"chs\": \"多\",\n      \"cht\": \"多\"\n    }\n  },\n  \"phm\": {\n    \"index\": 57,\n    \"testament\": \"New\",\n    \"full_name\": {\n      \"en\": \"Philemon\",\n      \"chs\": \"腓利门书\",\n      \"cht\": \"腓利門書\",\n      \"pinyin\": \"flms\"\n    },\n    \"short_name\": {\n      \"pinyin\": \"men\",\n      \"en\": \"Philem\",\n      \"chs\": \"门\",\n      \"cht\": \"門\"\n    }\n  },\n  \"heb\": {\n    \"index\": 58,\n    \"testament\": \"New\",\n    \"full_name\": {\n      \"en\": \"Hebrews\",\n      \"chs\": \"希伯来书\",\n      \"cht\": \"希伯來書\",\n      \"alias_cht\": \"希伯來\",\n      \"pinyin\": \"xbls\"\n    },\n    \"short_name\": {\n      \"pinyin\": \"lai\",\n      \"en\": \"Heb\",\n      \"chs\": \"来\",\n      \"cht\": \"來\",\n      \"alias_cht\": \"希\"\n    }\n  },\n  \"jas\": {\n    \"index\": 59,\n    \"testament\": \"New\",\n    \"full_name\": {\n      \"en\": \"James\",\n      \"chs\": \"雅各书\",\n      \"cht\": \"雅各書\",\n      \"pinyin\": \"ygs\"\n    },\n    \"short_name\": {\n      \"pinyin\": \"ya\",\n      \"en\": \"James\",\n      \"chs\": \"雅\",\n      \"cht\": \"雅\"\n    }\n  },\n  \"1pe\": {\n    \"index\": 60,\n    \"testament\": \"New\",\n    \"full_name\": {\n      \"en\": \"1 Peter\",\n      \"chs\": \"彼得前书\",\n      \"cht\": \"彼得前書\",\n      \"pinyin\": \"bdqs\"\n    },\n    \"short_name\": {\n      \"pinyin\": \"biqian\",\n      \"en\": \"1Pet\",\n      \"chs\": \"彼前\",\n      \"cht\": \"彼前\"\n    }\n  },\n  \"2pe\": {\n    \"index\": 61,\n    \"testament\": \"New\",\n    \"full_name\": {\n      \"en\": \"2 Peter\",\n      \"chs\": \"彼得后书\",\n      \"cht\": \"彼得後書\",\n      \"pinyin\": \"bdhs\"\n    },\n    \"short_name\": {\n      \"pinyin\": \"bihou\",\n      \"en\": \"2Pet\",\n      \"chs\": \"彼后\",\n      \"cht\": \"彼後\"\n    }\n  },\n  \"1jn\": {\n    \"index\": 62,\n    \"testament\": \"New\",\n    \"full_name\": {\n      \"en\": \"1 John\",\n      \"chs\": \"约翰一书\",\n      \"cht\": \"約翰一書\",\n      \"pinyin\": \"yhys\"\n    },\n    \"short_name\": {\n      \"pinyin\": \"yueyi\",\n      \"en\": \"1John\",\n      \"chs\": \"约一\",\n      \"cht\": \"約一\"\n    }\n  },\n  \"2jn\": {\n    \"index\": 63,\n    \"testament\": \"New\",\n    \"full_name\": {\n      \"en\": \"2 John\",\n      \"chs\": \"约翰二书\",\n      \"cht\": \"約翰二書\",\n      \"alias_chs\": \"约翰ニ书\",\n      \"alias_cht\": \"約翰ニ書\",\n      \"pinyin\": \"yhes\"\n    },\n    \"short_name\": {\n      \"pinyin\": \"yueer\",\n      \"en\": \"2John\",\n      \"chs\": \"约二\",\n      \"cht\": \"約二\",\n      \"alias_chs\": \"约ニ\",\n      \"alias_cht\": \"約ニ\"\n    }\n  },\n  \"3jn\": {\n    \"index\": 64,\n    \"testament\": \"New\",\n    \"full_name\": {\n      \"en\": \"3 John\",\n      \"chs\": \"约翰三书\",\n      \"cht\": \"約翰三書\",\n      \"pinyin\": \"yhss\"\n    },\n    \"short_name\": {\n      \"pinyin\": \"yuesan\",\n      \"en\": \"3John\",\n      \"chs\": \"约三\",\n      \"cht\": \"約三\"\n    }\n  },\n  \"jud\": {\n    \"index\": 65,\n    \"testament\": \"New\",\n    \"full_name\": {\n      \"en\": \"Jude\",\n      \"chs\": \"犹大书\",\n      \"cht\": \"猶大書\",\n      \"pinyin\": \"yds\"\n    },\n    \"short_name\": {\n      \"pinyin\": \"you\",\n      \"en\": \"Jude\",\n      \"chs\": \"犹\",\n      \"cht\": \"猶\"\n    }\n  },\n  \"rev\": {\n    \"index\": 66,\n    \"testament\": \"New\",\n    \"full_name\": {\n      \"en\": \"Revelation\",\n      \"chs\": \"启示录\",\n      \"cht\": \"啟示錄\",\n      \"alias_cht\": \"啓示錄\",\n      \"pinyin\": \"qsl\"\n    },\n    \"short_name\": {\n      \"pinyin\": \"qi\",\n      \"en\": \"Rev\",\n      \"chs\": \"启\",\n      \"cht\": \"啟\",\n      \"alias_cht\": \"啓\"\n    }\n  }\n}\n\nexport default books;","import React from \"react\";\nimport Switch from \"react-switch\";\nimport PropTypes from \"prop-types\";\nimport classNames from \"classnames\";\nimport {  GET_VERSE_ENDPOINT, getWordJson } from \"./DataFetchUtils\";\nimport { isEmptyObject } from './Utils';\nimport books from './books';\nimport { Link } from 'react-router-dom';\nimport \"./StudyGuide.css\";\n\n\nclass StudyGuide extends React.Component {\n  static propTypes = {\n    bibleIndex: PropTypes.object.isRequired,\n    menuOpen: PropTypes.bool.isRequired,\n    closeMenu: PropTypes.func.isRequired\n  };\n\n  VERSION_NAMES = {\n    CCB: '当代译本',\n    CNV: '新譯本',\n    CUNP: '和合本',\n    CSBS: '中文标准译本'\n  }\n\n  state = {\n    bookId: 0,\n    chapter: 0,\n    verse: 0,\n    contentData: {},\n    activeSection: \"other-versions\",\n    showWordInfo: false,\n    wordSequenceInOriginal: true,\n    crossReferences: []\n  };\n\n  componentDidMount() {\n    this.propsUpdated(this.props);\n  }\n\n  componentWillReceiveProps(props) {\n    this.propsUpdated(props);\n  }\n\n  // update state\n  propsUpdated = (props) => {\n    const bookId = props.match.params.book? parseInt(props.match.params.book) : 1;\n    const chapter = props.match.params.chapter? parseInt(props.match.params.chapter) : 1;\n    const verse = props.match.params.verse? parseInt(props.match.params.verse) : 0;\n    if (bookId !== this.state.bookId || chapter !== this.state.chapterData || verse !== this.state.verse) {\n      this.getVerseData(bookId, chapter, verse);\n    }\n  }\n\n  getVerseData = async (book, chapter, verse) => {\n    let url;\n    if (verse === 0)\n      url = `${GET_VERSE_ENDPOINT}/${book}/${chapter}.json`;\n    else\n      url = `${GET_VERSE_ENDPOINT}/${book}/${chapter}/${verse}.json`;\n\n    // 1. fetch verse reference\n    let res = await fetch(url);\n    const verseData = await res.json();\n    \n    if (verse === 0) {\n      this.setState({\n        contentData: verseData,\n        bookId: book,\n        chapter: chapter,\n        verse: verse,\n        crossReferences: [],\n        wordObj: {},\n        showWordInfo: false\n      });\n      return;\n    }\n\n    const verseObj = Object.entries(verseData)[0][1];\n\n    const crDict = verseObj.analytics.thisVerse.dict.cht;\n    const translations = verseObj.analytics.translations;\n\n    // 2. for each cross referenced verse\n    const crs = verseObj.analytics.crossRefs;\n    let crossReferences = []; // all cross references\n    for (let cr of crs) {\n      const [crVerseBook, crVerseChapter, crVerseVerse] = cr.verseKey.split(\".\");\n      let crossRef = {}; // this cross reference\n      crossRef.verseKey = cr.verseKey;\n      crossRef.verseAbbr = `${books[crVerseBook].short_name.cht}${crVerseChapter}:${crVerseVerse}`;\n      crossRef.book = books[crVerseBook].index;\n      crossRef.chapter = crVerseChapter;\n      crossRef.verse = crVerseVerse;\n      crossRef.verseTextEn = cr.nasb;\n      crossRef.verseTextCh = cr.words.map((word) => \n        Object.assign({}, word, \n          cr.anchors[word.id] ? {anchorWordId: word.id} : {},\n          cr.anchors[translations[word.id]] ? {anchorWordId: translations[word.id]} : {}\n      ));\n\n      // word map of cross referenced words\n      crossRef.wordMap = {};\n      for (let wordId of Object.keys(cr.anchors)) {\n        if (wordId in crDict) {\n          const word = crDict[wordId];\n          const meaning = crossRef.verseTextCh.filter((wordObj) => {\n            return wordObj.anchorWordId === wordId;\n          })[0];\n          if (meaning !== undefined)\n            crossRef.wordMap[word] = meaning.cht;\n        }\n      }\n      crossReferences.push(crossRef);\n    }\n\n    this.setState({\n      contentData: verseData,\n      bookId: book,\n      chapter: chapter,\n      verse: verse,\n      crossReferences: crossReferences,\n      showWordInfo: false\n    });\n\n    return;\n  };\n\n  /************************* handlers **********************************/\n\n  handleMenuSelection = (event) => {\n    const link = event.target;\n    if (link.classList.contains(\"menu-item\")) {\n      // clicked on section link\n      event.preventDefault();\n\n      // scroll to the selected section\n      let sectionId = link.getAttribute(\"target\");\n      this.setState({\n        activeSection: sectionId,\n      });\n      let section = document.getElementById(sectionId);\n      const headerHeight = 70; // offsetHeight is height of header\n      const menuHeight = document.getElementById(\"studyguide-menu\").offsetHeight; // offsetHeight is height of menu content\n      document.getElementById(\"study-content\").scrollTop = section.offsetTop - menuHeight - headerHeight;\n    }\n  };\n\n  handleWordClick = (event) => {\n    event.persist();\n    const wordId = event.currentTarget.dataset[\"wordid\"];\n    getWordJson(wordId).then((data) => {\n      this.setState({\n        wordObj: data,\n        showWordInfo: true\n      })\n    });\n  }\n\n  handleStudyPaneClick = (event) => {\n    // if menu is open and clicked outside selection, close menu\n    if (this.props.menuOpen) {\n      event.preventDefault();\n      event.stopPropagation();\n      this.props.closeMenu();\n    } \n    else if (this.state.showWordInfo) {\n      // TODO\n      // stop propagation will prevent links\n      // but I want links to work on word info, but not on rest of study guide\n\n      // if word info is open, close \n      this.setState({\n        showWordInfo: !this.state.showWordInfo\n      });\n    }\n   }\n\n  /**************************** render *********************************/\n\n  renderWord = () => {\n    const wordObj = this.state.wordObj;\n    if (isEmptyObject(wordObj))\n      return \"\";\n\n    if (!(\"occurences\" in wordObj)) {\n      return (\n        <div>\n          <h3>詞性</h3>\n          <p>{wordObj.pos}</p>\n          <i>對於聖經中的名詞、動詞、形容詞、副詞，BibleBase會有詳細信息。</i>\n        </div>\n      )\n    }\n    return (\n      <div>\n        <h3>詞性</h3>\n        <p>{wordObj.pos}</p>\n        <h3>聖經中出現次數</h3>\n        <p>{`共${wordObj.occurences}次`}</p>\n        <h3>上下文意思</h3>\n        <p>{`共${wordObj.meaningsCount}種`}</p>\n        <table>\n          <tbody>\n            {Object.keys(wordObj.meanings).map((key) => (\n              <tr key={key}>\n                <td>\n                  <b>{key}</b>\n                </td>\n                <td>{`${wordObj.meanings[key]}次`}</td>\n              </tr>\n            ))}\n          </tbody>\n        </table>        \n        <h3>原文上下文舉例</h3>\n        {Object.keys(wordObj.translits).map((word) => {\n          const verses = Object.keys(wordObj.translits[word]);\n          return (\n            <div key={word}>\n              <h4>{word}</h4>\n              <table>\n                <tbody>\n                  {verses.map( (verse, index) => {\n                    let [b, c, v] = verse.split('.');\n                    v = v.split('|')[0];\n                    const book = books[b].index;\n                    const list = wordObj.translits[word][verse];\n                    return (\n                      <tr key={index}>\n                        <td>\n                          <Link to={`/biblebase/${book}/${c}/${v}`}\n                                className={classNames({\n                                  \"verseLink\": true,\n                                  \"disable-link\": this.props.menuOpen\n                                })}\n                          >\n                            {`${books[b][\"short_name\"].cht} ${c}:${v}`}\n                          </Link>\n                        </td>\n                        <td>\n                          <i><span>...</span><span>{list[0]}</span><span> </span><b>{list[1]}</b><span> </span><span>{list[2]}</span><span>...</span></i>\n                        </td>\n                      </tr>\n                    )\n                  })}\n                  \n                </tbody>\n              </table>\n            </div>\n          )\n        })}\n      </div>\n    );\n  }\n\n  renderChapterData() {\n    // no verse selected\n    const reference = Object.entries(this.state.contentData)[0][1];\n    return (\n      <div id=\"study-guide\" onClickCapture={this.handleStudyPaneClick}>\n        <div id=\"study-content\">\n          <div id=\"sermons\" className={classNames(\"section\", {\n              dim: reference.sermons === undefined || reference.sermons.length === 0})}>\n            <div className=\"section-heading\">證道與讀經班</div>\n            <div className=\"section-description\">CBCWLA教會歷年來的證道內容，以及三年一輪的讀經班所用的講義。</div>\n            <div className=\"section-content\">\n              {reference.sermons === undefined || \n               reference.sermons.length === 0 ||\n               (reference.sermons.map((sermon) => (\n                <div className=\"sermon-block\" key={sermon.id}>\n                  <div className=\"title\">{sermon.title}</div>\n                  <div className=\"author\">{sermon.preacher}</div>\n                  <div className=\"date\">{sermon.date}</div>\n                  {sermon.audio === undefined ||\n                   (<audio className=\"sermon-audio\" controls>\n                      <source src={sermon.audio} type=\"audio/mpeg\" />Your browser does not support the audio element.</audio>\n                  )}\n                  {sermon.slides === undefined ||\n                   (<div className=\"sermon-slides\">\n                      <a href={sermon.slides} target=\"_blank\" rel=\"noopener noreferrer\">Slides</a>\n                    </div>\n                  )}\n                </div>)\n              ))}\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  render() {\n    const bookId = this.state.bookId;\n    const chapter = this.state.chapter;\n    const verse = this.state.verse;\n    const contentData = this.state.contentData;\n\n    if (bookId === 0)\n      return <div></div>\n\n      // if no content data or content data is not current\n    if (isEmptyObject(contentData)) {\n      this.getVerseData(bookId, chapter, verse);\n      return <div></div>;\n    }\n\n    if (verse === 0) return this.renderChapterData();\n\n    const verseObject = Object.entries(contentData)[0][1];\n    const bookTitle = this.props.bibleIndex[bookId].title;\n    const title = `${bookTitle} ${chapter} : ${verse}`;\n\n    const words = this.state.wordSequenceInOriginal\n      ? verseObject.words\n      : [...verseObject.words].sort((a, b) => a.index_cht - b.index_cht);\n    const dedupedWords = this.state.wordSequenceInOriginal\n      ? words\n      : words.map((w, idx) =>\n        (idx > 1 && words[idx-1].index_cht === w.index_cht)\n        ? Object.assign({}, w, {cht: '~'})\n        : w\n        )\n\n    return (\n      <div id=\"study-guide\" onClickCapture={this.handleStudyPaneClick}>\n        {/* Menu */}\n        <nav id=\"studyguide-menu\">\n          <div className=\"menu-heading\">{title.toUpperCase()}</div>\n          <div className=\"menu-items\" onClickCapture={this.handleMenuSelection}>\n            <div\n              id=\"mi-other-versions\"\n              target=\"other-versions\"\n              selected={true}\n              className={classNames(\"menu-item\", {\n                dim:\n                  verseObject.versions === undefined ||\n                  isEmptyObject(verseObject.versions),\n                \"active-menu-item\":\n                  this.state.activeSection === \"other-versions\",\n              })}\n            >\n              聖經版本\n            </div>\n            <div\n              id=\"mi-words\"\n              target=\"words\"\n              className={classNames(\"menu-item\", {\n                dim:\n                  verseObject.words === undefined ||\n                  verseObject.words.length === 0,\n                \"active-menu-item\": this.state.activeSection === \"words\",\n              })}\n            >\n              逐詞翻譯\n            </div>\n            <div\n              id=\"mi-sermons\"\n              target=\"sermons\"\n              className={classNames(\"menu-item\", {\n                dim:\n                  verseObject.sermons === undefined ||\n                  verseObject.sermons.length === 0,\n                \"active-menu-item\": this.state.activeSection === \"sermons\",\n              })}\n            >\n              證道與讀經班\n            </div>\n            <div\n              id=\"mi-analytics\"\n              target=\"analytics\"\n              className={classNames(\"menu-item\", {\n                dim:\n                  verseObject.analytics === undefined ||\n                  isEmptyObject(verseObject.analytics),\n                \"active-menu-item\": this.state.activeSection === \"analytics\",\n              })}\n            >\n              相關經文\n            </div>\n          </div>\n        </nav>\n\n        {/* content */}\n        <div id=\"study-content\">\n          {/* Other versions */}\n          <div\n            id=\"other-versions\"\n            className={classNames(\"section\", {\n              dim:\n                verseObject.versions === undefined ||\n                isEmptyObject(verseObject.versions),\n            })}\n          >\n            <div className=\"section-heading\">聖經版本</div>\n            <div className=\"section-description\">\n              中英文各選取三個常用版本。\n            </div>\n            <div className=\"section-content\">\n              {verseObject.versions === undefined ||\n                isEmptyObject(verseObject.versions) || (\n                  <table>\n                    <tbody>\n                      {Object.entries(verseObject.versions).map(\n                        ([key, version]) => (\n                          <tr className=\"version\" key={version.version_id}>\n                            <td className=\"version-name\">\n                              {this.VERSION_NAMES[version.version_id] ||\n                                version.version_id}\n                            </td>\n                            <td className=\"version-content\">{version.text}</td>\n                          </tr>\n                        )\n                      )}\n                    </tbody>\n                  </table>\n                )}\n            </div>\n          </div>\n\n          {/* Words */}\n          <div\n            id=\"words\"\n            className={classNames(\"section\", {\n              dim:\n                verseObject.words === undefined ||\n                verseObject.words.length === 0,\n            })}\n          >\n            <div className=\"section-heading\">\n              逐詞翻譯\n              <span style={{ float: \"right\", \"fontSize\": \"60%\" }}>\n                <span>中文語序</span>\n                <span style={{ margin: \"10px\" }}>\n                  <Switch\n                    checked={this.state.wordSequenceInOriginal}\n                    onColor=\"#aaa\"\n                    onHandleColor=\"#333\"\n                    uncheckedIcon={false}\n                    checkedIcon={false}\n                    height={16}\n                    width={36}\n                    onChange={(checked) => {\n                      this.setState({ wordSequenceInOriginal: checked });\n                    }}\n                  />\n                </span>\n                <span>原文語序</span>\n              </span>\n            </div>\n            <div className=\"section-description\">\n              根據聖經原文（舊約希伯來文，新約希臘文）逐詞的翻譯，英文靠近NASB版本，中文靠近和合本。\n            </div>\n            <div className=\"section-content words-table\">\n              {dedupedWords.map((word, index) => (\n                <div className=\"word-cell\" key={index}>\n                  <div\n                    className=\"translit\"\n                    data-wordid={word.id}\n                    onClickCapture={this.handleWordClick}\n                  >\n                    {word.translit ? (\n                      <span\n                        className={classNames(\"word-link\", {\n                          \"disable-link\": this.props.menuOpen,\n                        })}\n                      >\n                        {word.translit}\n                      </span>\n                    ) : (\n                      <span>-</span>\n                    )}\n                  </div>\n                  <div className=\"original\">{word[word.lang] || '-'}</div>\n                  <div className=\"eng\">{word.eng || '-'}</div>\n                  <div className=\"cht\">\n                    {word.cht || '-'}\n                    {this.state.wordSequenceInOriginal ? (\n                      <span />\n                    ) : (\n                      <span className=\"punctCht\">{word.punct_cht}</span>\n                    )}\n                  </div>\n                </div>\n              ))}\n            </div>\n          </div>\n\n          {/* Sermons */}\n          <div\n            id=\"sermons\"\n            className={classNames(\"section\", {\n              dim:\n                verseObject.sermons === undefined ||\n                verseObject.sermons.length === 0,\n            })}\n          >\n            <div className=\"section-heading\">證道與讀經班</div>\n            <div className=\"section-description\">\n              CBCWLA教會歷年來的證道內容，以及三年一輪的讀經班所用的講義。\n            </div>\n            {verseObject.sermons === undefined ||\n              verseObject.sermons.length === 0 || (\n                <div className=\"section-content\">\n                  {verseObject.sermons.map((sermon) => (\n                    <div className=\"sermon-block\" key={sermon.id}>\n                      <div className=\"title\">{sermon.title}</div>\n                      <div className=\"author\">{sermon.preacher}</div>\n                      <div className=\"date\">{sermon.date}</div>\n                      {sermon.audio === undefined || (\n                        <audio className=\"sermon-audio\" controls>\n                          <source src={sermon.audio} type=\"audio/mpeg\" />\n                          Your browser does not support the audio element.\n                        </audio>\n                      )}\n                      {sermon.slides === undefined || (\n                        <div className=\"sermon-slides\">\n                          <a\n                            href={sermon.slides}\n                            target=\"_blank\"\n                            rel=\"noopener noreferrer\"\n                          >\n                            Slides\n                          </a>\n                        </div>\n                      )}\n                    </div>\n                  ))}\n                </div>\n              )}\n          </div>\n\n          {/* Analytics */}\n          <div\n            id=\"analytics\"\n            className={classNames(\"section\", {\n              dim:\n                verseObject.analytics === undefined ||\n                isEmptyObject(verseObject.analytics),\n            })}\n          >\n            <div className=\"section-heading\">相關經文（實驗功能）</div>\n            <div className=\"section-description\">\n              根據相同的原文詞根串珠，並根據原詞的詞頻排序。\n            </div>\n            <div className=\"section-content\">\n              {verseObject.analytics === undefined ||\n                isEmptyObject(verseObject.analytics) || (\n                  <table>\n                    <tbody>\n                      {this.state.crossReferences.map((cr) => (\n                        <tr className=\"cross-reference\" key={cr.verseKey}>\n                          <td className=\"cr-verseKey-col\">\n                            <Link\n                              to={`/biblebase/${cr.book}/${cr.chapter}/${cr.verse}`}\n                              className={classNames({\n                                \"disable-link\": this.props.menuOpen,\n                              })}\n                            >\n                              {cr.verseAbbr}\n                            </Link>\n                          </td>\n                          <td className=\"cr-verse-col\">\n                            <p>\n                            {cr.verseTextCh.map((word, idx) => (\n                              <span key={idx}>\n                                { word.anchorWordId\n                                  ? <b>{word.cht}</b>\n                                  : <span>{word.cht}</span>\n\n                                }{\n                                  word.punct_cht && <span>{word.punct_cht}</span>\n                                }\n                              </span>\n                            ))}\n                            </p>\n                            <p className=\"cr-verse-lang2\">{ cr.verseTextEn }</p>\n                          </td>\n                          <td className=\"cross-ref-words-col\">\n                            {Object.keys(cr.wordMap).map((key) => (\n                              <div\n                                key={key}\n                              >{`${key} ↔ ${cr.wordMap[key]}`}</div>\n                            ))}\n                          </td>\n                        </tr>\n                      ))}\n                    </tbody>\n                  </table>\n                )}\n            </div>\n          </div>\n\n          {/* Hymns */}\n          <div\n            id=\"hymns\"\n            className={classNames(\"section\", {\n              dim:\n                verseObject.hymns === undefined ||\n                verseObject.hymns.length === 0,\n            })}\n          >\n            <div className=\"section-heading\">詩歌</div>\n            <div className=\"section-content\">\n              {verseObject.hymns === undefined ||\n                verseObject.hymns.length === 0 ||\n                verseObject.hymns.map((hymn) => (\n                  <div className=\"hymn block\" key={hymn.id}>\n                    <div className=\"hymn-title title\">{hymn.title}</div>\n                    <div className=\"hymn-description desc\">\n                      {hymn.description}\n                    </div>\n                    <div className=\"video-wrapper\">\n                      <iframe\n                        className=\"iframe\"\n                        id={`youtube_${hymn.id}`}\n                        title={hymn.title}\n                        type=\"text/html\"\n                        width=\"100vmin\"\n                        height=\"100vmin\"\n                        src={`https://www.youtube.com/embed/${hymn.youtube_id}?autoplay=0&origin=http://example.com\"`}\n                        frameBorder=\"0\"\n                      ></iframe>\n                    </div>\n                  </div>\n                ))}\n            </div>\n          </div>\n          <div\n            id=\"word-lookup\"\n            className={classNames({ hidden: !this.state.showWordInfo })}\n          >\n            {this.state.wordObj && this.state.showWordInfo\n              ? this.renderWord()\n              : \"\"}\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default StudyGuide;\n","import React from 'react';\nimport \"./Menu.css\";\nimport classNames from 'classnames';\nimport { Link } from 'react-router-dom';\nimport PropTypes from 'prop-types';\n\n\nclass Menu extends React.Component {\n\n  static propTypes = {\n    bibleIndex: PropTypes.object.isRequired,\n    menuOpen: PropTypes.bool.isRequired,\n    openMenu: PropTypes.func.isRequired,\n    closeMenu: PropTypes.func.isRequired\n  }\n\n  state = {\n    bookId: 1,\n    chapter: 1,\n    selectedbookId: 0,\n    selectedChapter: 0\n  }\n\n  componentDidMount() {\n    this.propsUpdated(this.props);\n  }\n\n  /* \n   * When props changes (when routing has changed), we need to catch is and update the state\n   * so that it will cause updates to relevent elements in the UI. If we skip this part, \n   * the whole componenet is re-rendered when routing changes\n   */\n  componentWillReceiveProps(props) {\n    this.propsUpdated(props);\n  }\n\n  // update current state when props change\n  propsUpdated = (props) => {\n    const bookId = props.match.params.book? parseInt(props.match.params.book) : 1;\n    const chapter = props.match.params.chapter? parseInt(props.match.params.chapter) : 1;\n    this.setState({\n      bookId: bookId,\n      chapter: chapter\n    });\n  }\n\n  handleDropdownButtonClick = (event) => {\n    event.stopPropagation();\n    if (this.props.menuOpen) {\n      console.log(\"close menu\");\n      this.props.closeMenu();\n    } else {\n      this.props.openMenu();\n    }\n  }\n\n  handleBookSelection = (event) => {\n    event.stopPropagation();\n    this.setState({\n        selectedbookId: event.target.value,\n        selectedChapter: 1\n    });\n}\n\n  handleChapterSelection = (event) => {\n    event.stopPropagation();\n\n    // call parent function to change selected\n    if (this.state.selectedbookId === 0) // if using default selection (only changing chapter)\n      this.props.history.push(`/biblebase/${this.props.match.params.book}/${parseInt(event.target.value)}`);\n    else\n      this.props.history.push(`/biblebase/${this.state.selectedbookId}/${parseInt(event.target.value)}`);\n\n    // reset\n    this.setState({\n      selectedBookId: 0,\n      selectedChapter: 0\n    });\n\n    this.props.closeMenu();\n      \n  }\n\n  handleMenuPaneClick = (event) => {\n    // if menu is open and clicked outside selection, close menu\n    const classes = event.target.classList;\n    if (this.props.menuOpen && !classes.contains(\"book-list-item\") && !classes.contains(\"chapter-list-item\")) {\n      event.preventDefault();\n      event.stopPropagation();\n      this.props.closeMenu();\n    }\n  }\n\n  renderPrevChLink = (book, chapter) => {    \n    if (book === 1 && chapter === 1) {\n      return (\n        <div className=\"prev prev-disabled\">\n          <span className=\"triangle triangle-prev-disabled\" ></span>\n        </div>\n      ); \n    } else {\n      let prevBook = book;\n      let prevCh = chapter;\n      // need to go to previous book\n      if (chapter === 1) {\n        prevBook -= 1;\n        prevCh = this.props.bibleIndex[prevBook].chapters;\n      } else {\n        prevCh -= 1;\n      }\n  \n      return (\n        <Link to={`/biblebase/${prevBook}/${prevCh}`} className={classNames({\"disable-link\": this.props.menuOpen})}>\n          <div className=\"prev\">\n            <span className=\"triangle triangle-prev\" ></span>\n          </div>\n        </Link>\n      )\n    }\n            \n  }\n\n  renderNextChLink = (book, chapter) => {    \n  \n    if (book === 66 && chapter === 22) {\n      return (\n        <div className=\"next next-disabled\">\n          <span className=\"triangle triangle-next-disabled\" ></span>\n        </div>\n      ); \n    } else {\n      let nextBook = book;\n      let nextCh = chapter;\n      // need to go to next book\n      if (chapter === this.props.bibleIndex[book].chapters) {\n        nextBook += 1;\n        nextCh = 1;\n      } else {\n        nextCh += 1;\n      }\n      return (\n        <Link to={`/biblebase/${nextBook}/${nextCh}`} className={classNames({\"disable-link\": this.props.menuOpen})}>\n          <div className=\"next\">\n            <span className=\"triangle triangle-next\" ></span>\n          </div>\n        </Link>\n      )\n    }\n            \n  }\n\n  render() {\n\n    const bookId = this.state.bookId;\n    const chapter = this.state.chapter;\n\n    let menu = [];\n    if (this.state.selectedbookId !== 0) { // selected a book\n      for (let i = 1; i <= this.props.bibleIndex[this.state.selectedbookId].chapters; i++) {\n        menu.push(<option className=\"chapter-list-item\" value={i} key={i}>{i}</option>)\n      }\n    } else { // book has not been selected, is pointing to current book\n      for (let i = 1; i <= this.props.bibleIndex[bookId].chapters; i++) {\n        menu.push(<option className={classNames(\"chapter-list-item\", \n            {\"highlight-current\": i === chapter})} // highlight original chapter \n            value={i} key={i}>{i}</option>)\n      }\n    }\n\n    return (\n      <div id=\"book-menu\" onClickCapture={this.handleMenuPaneClick}>\n        <div id=\"branding\">\n          <h1>Biblebase</h1>\n        </div>\n\n        <div id=\"book-selector\">\n          {this.renderPrevChLink(bookId, chapter)}\n          <div className=\"book-nav\">\n            <button className=\"book-dropdown-button\" onClick={this.handleDropdownButtonClick}>\n              {this.props.bibleIndex[bookId].title} {chapter}  \n              <span className=\"triangle triangle-down\"></span>\n            </button>\n          </div>\n          {this.renderNextChLink(bookId, chapter)}\n          <div className={classNames(\"book-dropdown\", {hide: !this.props.menuOpen})}>\n            <ul className=\"book-list\" onClick={this.handleBookSelection}>\n              {Object.keys(this.props.bibleIndex).map(bid => (\n                  (<li className={classNames(\"book-list-item\", \n                      {\"highlight-current\": this.state.selectedbookId !== 0? \n                        this.props.bibleIndex[bid].id === this.state.selectedbookId :\n                        this.props.bibleIndex[bid].id === bookId})} \n                  value={bid} key={bid}>{this.props.bibleIndex[bid].title}</li>)\n              ))}\n            </ul>\n          </div>\n          <div className={classNames(\"chapter-dropdown\", {hide: !this.props.menuOpen})}>\n            <ul className=\"chapter-list\" onClick={this.handleChapterSelection}>\n              {menu}\n            </ul>\n          </div>\n        </div>\n\n        <div id=\"search\"></div>\n\n        <div id=\"user\"></div>\n\n      </div>\n    );\n  }\n}\n\nexport default Menu;\n","import React from 'react';\nimport \"./Footer.css\";\n\n\nclass Footer extends React.Component {\n\n  render() {\n\n    return (\n      <div id=\"footer\">\n        Biblebase\n      </div>\n    );\n  }\n}\n\nexport default Footer;\n","const bibleIndex = \n{ \n    1: { abbr: \"gen\", id: 1, name: \"Genesis\", title: \"創世記\", chapters: 50 },\n    2: { abbr: \"ex\", id: 2, name: \"Exodus\", title: \"出埃及記\", chapters: 40 },\n    3: { abbr: \"lev\", id: 3, name: \"Leviticus\", title: \"利未記\", chapters: 27 },\n    4: { abbr: \"num\", id: 4, name: \"Numbers\", title: \"民數記\", chapters: 36 },\n    5: { abbr: \"deut\", id: 5, name: \"Deuteronomy\", title: \"申命記\", chapters: 34 },\n    6: { abbr: \"josh\", id: 6, name: \"Joshua\", title: \"約書亞記\", chapters: 24 },\n    7: { abbr: \"judg\", id: 7, name: \"Judges\", title: \"士師記\", chapters: 21 },\n    8: { abbr: \"ruth\", id: 8, name: \"Ruth\", title: \"路得記\", chapters: 4 },\n    9: { abbr: \"1sam\", id: 9, name: \"1 Samuel\", title: \"撒母耳記上\", chapters: 31 },\n    10: { abbr: \"2sam\", id: 10, name: \"2 Samuel\", title: \"撒母耳記下\", chapters: 24 },\n    11: { abbr: \"1kings\", id: 11, name: \"1 Kings\", title: \"列王紀上\", chapters: 22 },\n    12: { abbr: \"2kings\", id: 12, name: \"2 Kings\", title: \"列王記下\", chapters: 25 },\n    13: { abbr: \"1chron\", id: 13, name: \"1 Chronicles\", title: \"歷代志上\", chapters: 29 },\n    14: { abbr: \"2chron\", id: 14, name: \"2 Chronicles\", title: \"歷代志下\", chapters: 36 },\n    15: { abbr: \"ezra\", id: 15, name: \"Ezra\", title: \"以斯拉記\", chapters: 10 },\n    16: { abbr: \"neh\", id: 16, name: \"Nehemiah\", title: \"尼希米記\", chapters: 13 },\n    17: { abbr: \"est\", id: 17, name: \"Esther\", title: \"以斯帖記\", chapters: 10 },\n    18: { abbr: \"job\", id: 18, name: \"Job\", title: \"約伯記\", chapters: 42 },\n    19: { abbr: \"ps\", id: 19, name: \"Psalms\", title: \"詩篇\", chapters: 150 },\n    20: { abbr: \"prov\", id: 20, name: \"Proverbs\", title: \"箴言\", chapters: 31 },\n    21: { abbr: \"eccles\", id: 21, name: \"Ecclesiastes\", title: \"傳道書\", chapters: 12 },\n    22: { abbr: \"song\", id: 22, name: \"SongOfSongs\", title: \"雅歌書\", chapters: 8 },\n    23: { abbr: \"isa\", id: 23, name: \"Isaiah\", title: \"以賽亞書\", chapters: 66 },\n    24: { abbr: \"jer\", id: 24, name: \"Jeremiah\", title: \"耶利米書\", chapters: 52 },\n    25: { abbr: \"lam\", id: 25, name: \"Lamentations\", title: \"耶利米哀歌\", chapters: 5 },\n    26: { abbr: \"ezek\", id: 26, name: \"Ezekiel\", title: \"以西結書\", chapters: 48 },\n    27: { abbr: \"dan\", id: 27, name: \"Daniel\", title: \"但以理書\", chapters: 12 },\n    28: { abbr: \"hos\", id: 28, name: \"Hosea\", title: \"何阿西書\", chapters: 14 },\n    29: { abbr: \"joel\", id: 29, name: \"Joel\", title: \"約珥書\", chapters: 3 },\n    30: { abbr: \"amos\", id: 30, name: \"Amos\", title: \"阿摩司書\", chapters: 9 },\n    31: { abbr: \"obad\", id: 31, name: \"Obadiah\", title: \"俄巴底亞書\", chapters: 1 },\n    32: { abbr: \"jonah\", id: 32, name: \"Jonah\", title: \"約拿書\", chapters: 4 },\n    33: { abbr: \"mic\", id: 33, name: \"Micah\", title: \"彌迦書\", chapters: 7 },\n    34: { abbr: \"nah\", id: 34, name: \"Nahum\", title: \"那鴻書\", chapters: 3 },\n    35: { abbr: \"hb\", id: 35, name: \"Habakkuk\", title: \"哈巴谷書\", chapters: 3 },\n    36: { abbr: \"zeph\", id: 36, name: \"Zephaniah\", title: \"西番雅書\", chapters: 3 },\n    37: { abbr: \"hag\", id: 37, name: \"Haggai\", title: \"哈該書\", chapters: 2 },\n    38: { abbr: \"zech\", id: 38, name: \"Zechariah\", title: \"撒迦利亞書\", chapters: 14 },\n    39: { abbr: \"mal\", id: 39, name: \"Malachi\", title: \"瑪拉基書\", chapters: 4 },\n    40: { abbr: \"matt\", id: 40, name: \"Matthew\", title: \"馬太福音\", chapters: 28 },\n    41: { abbr: \"mark\", id: 41, name: \"Mark\", title: \"馬可福音\", chapters: 16 },\n    42: { abbr: \"luke\", id: 42, name: \"Luke\", title: \"路加福音\", chapters: 24 },\n    43: { abbr: \"john\", id: 43, name: \"John\", title: \"約翰福音\", chapters: 21 },\n    44: { abbr: \"acts\", id: 44, name: \"Acts\", title: \"使徒行傳\", chapters: 28 },\n    45: { abbr: \"rom\", id: 45, name: \"Romans\", title: \"羅馬書\", chapters: 16 },\n    46: { abbr: \"1cor\", id: 46, name: \"1 Corinthians\", title: \"哥林多前書\", chapters: 16 },\n    47: { abbr: \"2cor\", id: 47, name: \"2 Corinthians\", title: \"哥林多後書\", chapters: 13 },\n    48: { abbr: \"gal\", id: 48, name: \"Galatians\", title: \"加拉太書\", chapters: 6 },\n    49: { abbr: \"eph\", id: 49, name: \"Ephesians\", title: \"以弗所書\", chapters: 6 },\n    50: { abbr: \"php\", id: 50, name: \"Philippians\", title: \"腓力比書\", chapters: 4 },\n    51: { abbr: \"col\", id: 51, name: \"Colossians\", title: \"歌羅西書\", chapters: 4 },\n    52: { abbr: \"1thess\", id: 52, name: \"1 Thessalonians\", title: \"帖撒羅尼迦前書\", chapters: 5 },\n    53: { abbr: \"2thess\", id: 53, name: \"2 Thessalonians\", title: \"帖撒羅尼迦後書\", chapters: 3 },\n    54: { abbr: \"1tim\", id: 54, name: \"1 Timothy\", title: \"提摩太前書\", chapters: 6 },\n    55: { abbr: \"2tim\", id: 55, name: \"2 Timothy\", title: \"提摩太後書\", chapters: 4 },\n    56: { abbr: \"titus\", id: 56, name: \"Titus\", title: \"提多書\", chapters: 3 },\n    57: { abbr: \"philem\", id: 57, name: \"Philemon\", title: \"腓利門書\", chapters: 1 },\n    58: { abbr: \"heb\", id: 58, name: \"Hebrews\", title: \"希伯來書\", chapters: 13 },\n    59: { abbr: \"james\", id: 59, name: \"James\", title: \"雅各書\", chapters: 5 },\n    60: { abbr: \"1pet\", id: 60, name: \"1 Peter\", title: \"彼得前書\", chapters: 5 },\n    61: { abbr: \"2pet\", id: 61, name: \"2 Peter\", title: \"彼得後書\", chapters: 3 },\n    62: { abbr: \"1john\", id: 62, name: \"1 John\", title: \"約翰一書\", chapters: 5 },\n    63: { abbr: \"2john\", id: 63, name: \"2 John\", title: \"約翰二書\", chapters: 1 },\n    64: { abbr: \"3jonn\", id: 64, name: \"3 John\", title: \"約翰三書\", chapters: 1 },\n    65: { abbr: \"jude\", id: 65, name: \"Jude\", title: \"猶大書\", chapters: 1 },\n    66: { abbr: \"rev\", id: 66, name: \"Revelation\", title: \"啟示錄\", chapters: 22 }\n  }\n\n  export { bibleIndex };","import React from \"react\";\nimport ReadingPane from \"./ReadingPane.component\";\nimport StudyGuide from \"./StudyGuide.component\";\nimport Menu from \"./Menu.component\";\nimport Footer from \"./Footer.component\";\n\nimport \"./App.css\";\nimport { bibleIndex } from \"./bibleIndex\";\nimport { Switch, Route, Redirect } from \"react-router-dom\";\n\nclass BibleApp extends React.Component {\n\n  state = {\n    menuOpen: false\n  }\n\n  closeMenu = () => {\n    this.setState({\n      menuOpen: false\n    });\n  }\n\n  openMenu = () => {\n    this.setState({\n      menuOpen: true\n    })\n  }\n\n  render() {\n    return (\n      <div>\n        <Switch>\n          <Route path=\"/biblebase/:book?/:chapter?/:verse?\"\n            render={(props) => (\n              <div className=\"bible-app\">\n                <div className=\"header\">\n                  <Menu bibleIndex={bibleIndex} menuOpen={this.state.menuOpen} openMenu={this.openMenu} closeMenu={this.closeMenu} {...props} />\n                </div>\n                <div className=\"body\">\n                  <div className=\"body-left\">\n                    <ReadingPane bibleIndex={bibleIndex} menuOpen={this.state.menuOpen} closeMenu={this.closeMenu} {...props} />\n                  </div>\n                  <div className=\"body-right\">\n                    <StudyGuide bibleIndex={bibleIndex} menuOpen={this.state.menuOpen} closeMenu={this.closeMenu} {...props} />\n                  </div>\n                </div>\n                <div className=\"footer\">\n                  <Footer />\n                </div>\n              </div>\n            )}\n          />\n          <Route exact path=\"/\" render={() => (<Redirect to=\"/biblebase\" />)} />\n        </Switch>\n      </div>\n    );\n  }\n}\n\nexport default BibleApp;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport BibleApp from './ui/App';\nimport * as serviceWorker from './serviceWorker';\nimport { BrowserRouter } from 'react-router-dom';\n\nReactDOM.render(<BrowserRouter><BibleApp /></BrowserRouter>, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}